var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(e,l)=>{for(var o in l||(l={}))t.call(l,o)&&r(e,o,l[o]);if(a)for(var o of a(l))n.call(l,o)&&r(e,o,l[o]);return e};import{r as o,f as c,h as i,a as s,s as m,n as u,L as d,u as p,i as h,b as g,w as f,E as w,D as E,c as v}from"./vendor.65b81644.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,l)=>{const o=new URL(e,n);if(self[t].moduleMap[o])return a(self[t].moduleMap[o]);const c=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){l(new Error(`Failed to import: ${e}`)),r(i)},onload(){a(self[t].moduleMap[o]),r(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/assets/");const y=()=>o.createElement(o.Fragment,null,o.createElement("div",null,"Home")),x=async()=>{const e=(new Date).toUTCString();return{Authorization:'hmac username="647eb1e2c74e43ff91828932f1f5915d", algorithm="'+("hmac-"+"SHA-512".replace("-","").toLowerCase())+'", headers="x-date", signature="'+await(async(e,t,a)=>{const n=new TextEncoder,r=n.encode(e),l=n.encode(t),o=await i.compute(r,l,a);return c(o)})("3tPcLuxf21OZmP2eXGQMowPgyX8","x-date: "+e,"SHA-512")+'"',"X-Date":e}};s.defaults.baseURL="https://ptx.transportdata.tw/MOTC/v2/Tourism",s.defaults.headers.common["Content-Type"]="application/json;charset=utf-8";const b=({tourismInfo:e})=>{const{Name:t,Picture:a,Description:n,City:r}=e;return o.createElement("div",{className:"overflow-hidden shadow-lg rounded-lg h-120 w-full md:w-80"},o.createElement(d,{height:160,offset:100,once:!0,classNamePrefix:"background-image:url(https://i.imgur.com/ZaEuYbZ.webp)",placeholder:o.createElement("img",{src:"https://i.imgur.com/ZaEuYbZ.webp",alt:""})},o.createElement("img",{className:"max-h-40 h-40 w-full object-cover",alt:"tourism image",src:(null==a?void 0:a.PictureUrl1)||(null==a?void 0:a.PictureUrl2)||(null==a?void 0:a.PictureUrl3)||"https://i.imgur.com/gMtz026.webp"})),o.createElement("div",{className:"bg-white dark:bg-gray-800 w-full p-4 overflow-scroll h-80 rounded-b-lg"},o.createElement("p",{className:"text-indigo-500 text-md font-medium"},r),o.createElement("p",{className:"text-gray-800 dark:text-white text-xl font-medium mb-2"},t),o.createElement("p",{className:"text-gray-500 dark:text-gray-300 font-light text-md"},n)))},N={rootMargin:"300px",threshold:[0]},k=({fetchData:e,active:t=!1})=>{const a=o.useRef(new IntersectionObserver((async([t])=>{t.intersectionRatio>0&&await e()}),N)),n=o.useRef({});return o.useEffect((()=>{t?a.current.observe(n.current):(a.current.unobserve(n.current),a.current.disconnect())}),[t]),o.createElement("div",{className:"bg-transparent h-px relative",ref:n})};const C=[{id:"Taipei",name:"臺北市"},{id:"NewTaipei",name:"新北市"},{id:"Taoyuan",name:"桃園市"},{id:"Taichung",name:"臺中市"},{id:"Tainan",name:"臺南市"},{id:"Kaohsiung",name:"高雄市"},{id:"Keelung",name:"基隆市"},{id:"Hsinchu",name:"新竹市"},{id:"HsinchuCounty",name:"新竹縣"},{id:"MiaoliCounty",name:"苗栗縣"},{id:"ChanghuaCounty",name:"彰化縣"},{id:"NantouCounty",name:"南投縣"},{id:"YunlinCounty",name:"雲林縣"},{id:"ChiayiCounty",name:"嘉義縣"},{id:"Chiayi",name:"嘉義市"},{id:"PingtungCounty",name:"屏東縣"},{id:"YilanCounty",name:"宜蘭縣"},{id:"HualienCounty",name:"花蓮縣"},{id:"TaitungCounty",name:"臺東縣"},{id:"KinmenCounty",name:"金門縣"},{id:"PenghuCounty",name:"澎湖縣"},{id:"LienchiangCounty",name:"連江縣"}],L=()=>{const e=o.useMemo((()=>C),[]);return o.createElement("div",{className:"px-10"},o.createElement("div",{className:"dropdown inline-block relative"},o.createElement("button",{className:"bg-gray-300 text-gray-700 py-2 px-4 rounded inline-flex items-center"},o.createElement("span",{className:"mr-1"},"Dropdown"),o.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),o.createElement("ul",{className:"dropdown-menu absolute hidden text-gray-700 pt-1 max-h-96 overflow-scroll"},e.map((e=>o.createElement("li",{key:e.id,className:"bg-gray-200 hover:bg-gray-400 active:bg-gray-500 py-2 px-4 block whitespace-no-wrap select-none cursor-pointer"},e.name))))))},M=()=>o.createElement("nav",{className:"bg-gray-800"},o.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"},o.createElement("div",{className:"relative flex items-center justify-between h-16"},o.createElement("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden"},o.createElement("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false"},o.createElement("span",{className:"sr-only"},"Open main menu"),o.createElement("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})),o.createElement("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})))),o.createElement("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"},o.createElement("div",{className:"flex-shrink-0 flex items-center"},o.createElement("img",{className:"block lg:hidden h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"}),o.createElement("img",{className:"hidden lg:block h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg",alt:"Workflow"})),o.createElement("div",{className:"hidden sm:block sm:ml-6"},o.createElement("div",{className:"flex space-x-4"},o.createElement(L,null))))))),j=()=>{const{city:e}=p(),[t,a]=o.useState(),[n,r]=o.useState(!1),c=o.useRef();c.current=t;const i=async()=>{var t,n;let o;if(o=Boolean(e)?await(async(e,t,a)=>{try{const{data:n}=await s.get(`/ScenicSpot/${e}`,{headers:await x(),params:l(l({},t&&{$top:t}),a&&{$skip:a})});return m(n)}catch(n){return console.warn(n),u}})(e,30,null==(t=c.current)?void 0:t.length):await(async(e,t)=>{try{const{data:a}=await s.get("/ScenicSpot",{headers:await x(),params:l(l({},e&&{$top:e}),t&&{$skip:t})});return m(a)}catch(a){return console.warn(a),u}})(30,null==(n=c.current)?void 0:n.length),h(o))throw new Error("fail to fetch TourismInfo!");g(o.value)?r(!1):a([...c.current?c.current:[],...o.value])};return o.useEffect((()=>{i().then((()=>r(!0)))}),[]),o.createElement(o.Fragment,null,o.createElement(M,null),o.createElement("div",{className:"bg-white dark:bg-gray-700 min-h-screen"},o.createElement("div",{className:"card-container"},null==t?void 0:t.map(((e,t)=>o.createElement(b,{key:e.ID+t,tourismInfo:e})))),o.createElement(k,{fetchData:i,active:n})))},P=()=>o.createElement(o.Fragment,null,o.createElement("div",{className:"bg-indigo-900 relative overflow-hidden h-screen"},o.createElement("img",{src:"/image/404.svg",className:"absolute h-full w-full object-cover"}),o.createElement("div",{className:"inset-0 bg-black opacity-25 absolute"}),o.createElement("div",{className:"container mx-auto px-6 md:px-12 relative z-10 flex items-center py-32 xl:py-40"},o.createElement("div",{className:"w-full font-mono flex flex-col items-center relative z-10"},o.createElement("h1",{className:"font-extrabold text-5xl text-center text-white leading-tight mt-4"},"Page not found"),o.createElement("p",{className:"font-extrabold text-8xl my-44 text-white animate-bounce"},"404"))))),S=()=>o.createElement(f,null,o.createElement(w,null,o.createElement(E,{path:"/",element:o.createElement(y,null)}),o.createElement(E,{path:"/ScenicSpot",element:o.createElement(j,null)}),o.createElement(E,{path:"/ScenicSpot/:city",element:o.createElement(j,null)}),o.createElement(E,{path:"*",element:o.createElement(P,null)})));document.addEventListener("DOMContentLoaded",(()=>{v.render(o.createElement(o.StrictMode,null,o.createElement(S,null)),document.getElementById("root"))}));
