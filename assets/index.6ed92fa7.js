var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,o=(e,o)=>{for(var c in o||(o={}))t.call(o,c)&&r(e,c,o[c]);if(a)for(var c of a(o))n.call(o,c)&&r(e,c,o[c]);return e};import{r as c,f as l,h as s,a as m,s as i,n as u,u as p,i as d,w as f,E as w,D as h,b as E}from"./vendor.46aa2caf.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,o)=>{const c=new URL(e,n);if(self[t].moduleMap[c])return a(self[t].moduleMap[c]);const l=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){o(new Error(`Failed to import: ${e}`)),r(s)},onload(){a(self[t].moduleMap[c]),r(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/assets/");const y=()=>c.createElement("div",null,"Home"),b=async()=>{const e=(new Date).toUTCString();return{Authorization:'hmac username="647eb1e2c74e43ff91828932f1f5915d", algorithm="'+("hmac-"+"SHA-512".replace("-","").toLowerCase())+'", headers="x-date", signature="'+await(async(e,t,a)=>{const n=new TextEncoder,r=n.encode(e),o=n.encode(t),c=await s.compute(r,o,a);return l(c)})("3tPcLuxf21OZmP2eXGQMowPgyX8","x-date: "+e,"SHA-512")+'"',"X-Date":e}};m.defaults.baseURL="https://ptx.transportdata.tw/MOTC/v2/Tourism",m.defaults.headers.common["Content-Type"]="application/json;charset=utf-8";const S=()=>{const{city:e}=p(),[t,a]=c.useState(),n=null==t?void 0:t.length,r=async()=>{let r;if(r=Boolean(e)?await(async(e,t,a)=>{try{const{data:n}=await m.get(`/ScenicSpot/${e}`,{headers:await b(),params:o(o({},t&&{$top:t}),a&&{$skip:a})});return i(n)}catch(n){return console.warn(n),u}})(e,30,n):await(async(e,t)=>{try{const{data:a}=await m.get("/ScenicSpot",{headers:await b(),params:o(o({},e&&{$top:e}),t&&{$skip:t})});return i(a)}catch(a){return console.warn(a),u}})(30,n),d(r))throw new Error("fetchedTourismInfo is none!");a([...t||[],...r.value])};return c.useEffect((()=>{r()["catch"]((e=>console.warn(e)))}),[]),c.createElement("div",null,e," ",c.createElement("br",null),JSON.stringify(t),c.createElement("button",{onClick:r},"get"))},v=()=>c.createElement("div",null,"404"),g=()=>c.createElement(f,null,c.createElement(w,null,c.createElement(h,{path:"/",element:c.createElement(y,null)}),c.createElement(h,{path:"/ScenicSpot",element:c.createElement(S,null)}),c.createElement(h,{path:"/ScenicSpot/:city",element:c.createElement(S,null)}),c.createElement(h,{path:"*",element:c.createElement(v,null)})));E.render(c.createElement(c.StrictMode,null,c.createElement(g,null)),document.getElementById("root"));
